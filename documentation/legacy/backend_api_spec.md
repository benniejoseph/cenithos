# Backend API Specification - Cycle 2

This specification, generated by Agent L2A1, defines the new API endpoints required for the feature development plan.

## Base URL
`/v1`

## Authentication
All endpoints require a valid JWT `Authorization: Bearer <token>` header.

---

## 1. Goals API

Corresponds to **User Story 1.1** in the development plan.

### `POST /goals`
-   **Description**: Create a new financial goal for the authenticated user.
-   **Request Body**:
    ```json
    {
      "name": "Buy a New Car",
      "targetAmount": 1500000,
      "targetDate": "2028-12-31T00:00:00Z",
      "initialAmount": 50000
    }
    ```
-   **Response (201 Created)**: The full goal object, including its new ID.

### `GET /goals`
-   **Description**: Retrieve all financial goals for the authenticated user.
-   **Response (200 OK)**:
    ```json
    [
      {
        "id": "goal_123",
        "name": "Buy a New Car",
        "targetAmount": 1500000,
        "currentAmount": 50000,
        "targetDate": "2028-12-31T00:00:00Z"
      }
    ]
    ```

### `PUT /goals/{id}`
-   **Description**: Update an existing financial goal (e.g., add funds).
-   **Request Body**:
    ```json
    {
      "currentAmount": 75000
    }
    ```
-   **Response (200 OK)**: The updated goal object.

---

## 2. Budgets API

Corresponds to **User Story 1.2** in the development plan.

### `POST /budgets`
-   **Description**: Create a new budget for the authenticated user.
-   **Request Body**:
    ```json
    {
      "name": "Monthly Expenses",
      "period": "monthly",
      "limit": 50000,
      "categories": ["food", "transport", "utilities"]
    }
    ```
-   **Response (201 Created)**: The full budget object.

### `GET /budgets`
-   **Description**: Retrieve all budgets for the authenticated user.
-   **Response (200 OK)**: An array of budget objects.

---

## @imports
-   @import "development_plan.md" 